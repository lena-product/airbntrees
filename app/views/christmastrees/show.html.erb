<%#
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-controller="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-25" src="https://target.scene7.com/is/image/Target/GUEST_db5ef904-4b7d-47b8-8bff-64ff5d431ba7?wid=1000&hei=1000&qlt=80&fmt=webp" alt="First slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-25" src="https://target.scene7.com/is/image/Target/GUEST_5eccb109-9ca9-407d-877e-04eb35828497?wid=1000&hei=1000&qlt=80&fmt=webp" alt="Second slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-25" src="https://target.scene7.com/is/image/Target/GUEST_776dac9c-8072-4a44-a704-13640c10d28b?wid=1000&hei=1000&qlt=80&fmt=webp" alt="Third slide">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div> %>



<div class="container mt-5" >
  <div class="row">
  <% @christmastree.photos.each do |photo| %>
    <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
    <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill, class: "w-100 shadow-1-strong rounded mb-4"  %>
    </div>
    <% end %>
  </div>



  <div class="tree-info">
    <div class="w-50">
      <h1><%= @christmastree.name %></h1>
      <h5><strong>€<%= @christmastree.price %> per day</strong></h5>
     <p><%= @christmastree.height %> cm high | Type: <%= @christmastree.plant_type %> | Owner: <%= @christmastree.user.username %> | Location: <%= @christmastree.address %>
     </p>
        <hr>
     <p> <%= @christmastree.description %></p>
        <%#= link_to "Book this tree!", new_christmastree_booking_path(@christmastree) %>
    </div>
    <div data-controller="price">
       <%# <h3>BOOK THIS TREE</h3> %>
          <div class=" p-5 border rounded shadow-sm p-3 mb-5 bg-white rounded" style="background-color: #eee;">
          <h5><strong>€<%= @christmastree.price %> per day</strong></h5>
           <%= simple_form_for [@christmastree, @booking], data: { controller: 'flatpickr' } do |f| %>
           <%= f.input :start_date, as: :string, input_html: { data: { flatpickr_target: "startDate", price_target: "start" } } %>
           <%= f.input :end_date, as: :string, input_html: { data: { flatpickr_target: "endDate", price_target: "end", action: "input->price#add"} } %>
           <%#= f.input :start_date, as: :date, required: false, input_html: {class: "datepicker"} %>
           <%#= f.input :end_date, as: :date, required: false, input_html: {class: "datepicker"} %>
          <%= f.submit 'Book', class: "btn btn-default btn-success", data: { confirm: "Are you sure you want to submit this form?" }%>
          <%end%>
          <p data-price-target="price"><%= @christmastree.price %></p>
         </div>
    <div>
  </div>
  </div>
  </div>
  <hr>

  <h4><%= link_to "back to all trees", christmastrees_path, class: "btn btn-success" %> </h4>


</div>
